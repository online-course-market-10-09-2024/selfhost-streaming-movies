
networks:
  network:
    ipam:
      driver: default
      config:
        - subnet: 12.0.0.0/24

services:
  database-postgresql:
    build:
      dockerfile: ./docker/database-postgresql/Dockerfile
      args:
        ENVIRONMENT: ${ENV_DEV}
    ports:
      - '5122:5432'
    environment:
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    networks:
      network:
        ipv4_address: 12.0.0.2

  api-chi:
    build:
      dockerfile: ./docker/api-chi/Dockerfile
    ports:
      - '5123:3000'
    networks:
      network:
        ipv4_address: 12.0.0.3

  web-next:
    build:
      dockerfile: ./docker/web-next/Dockerfile
    ports:
      - '5124:3000'
    networks:
      network:
        ipv4_address: 12.0.0.4
